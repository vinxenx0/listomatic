<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="{{ url_for('home.home') }}">📋 MyLists</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                {% if current_user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('lists.dashboard') }}">Mis Listas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('users.profile') }}">Perfil</a>
                    </li>

                    {% if current_user.is_admin() %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-warning" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown">
                            ⚙️ Admin
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ url_for('admin.admin_dashboard') }}">📊 Dashboard</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('admin.manage_categories') }}">📂 Categorías</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('admin.manage_badges') }}">🏅 Badges</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('admin.edit_config') }}">⚙️ Configuración</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('admin.manage_users') }}">👤 Usuarios</a></li>
                        </ul>
                    </li>
                    {% endif %}

                    <li class="nav-item">
                        <a class="nav-link text-danger" href="{{ url_for('auth.logout') }}">Salir</a>
                    </li>

                    <!-- 🔥 BOTÓN PARA CAMBIAR TEMA -->
                    <li class="nav-item">
                        <button class="btn btn-outline-light ms-3" onclick="toggleTheme()">
                            {% if current_user.theme == "light" %}
                                🌙 Modo Oscuro
                            {% else %}
                                ☀️ Modo Claro
                            {% endif %}
                        </button>
                    </li>

                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('auth.login') }}">Iniciar sesión</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('auth.register') }}">Registrarse</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
