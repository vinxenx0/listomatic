{% extends "layout.html" %}

{% block title %}Perfil de Usuario{% endblock %}

{% block content %}
<h2 class="text-center">游녻 Perfil de Usuario</h2>

<!-- 游댳 M칄TRICAS DEL USUARIO -->
<div class="row text-center">
    <div class="col-md-4">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header">游늶 Listas Creadas</div>
            <div class="card-body">
                <h3>{{ total_listas }}</h3>
                <p>Total de listas creadas</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-success mb-3">
            <div class="card-header">游늷 칈tems A침adidos</div>
            <div class="card-body">
                <h3>{{ total_items }}</h3>
                <p>Total de 칤tems a침adidos</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-warning mb-3">
            <div class="card-header">游눫 Comentarios Recibidos</div>
            <div class="card-body">
                <h3>{{ total_comentarios }}</h3>
                <p>Comentarios en tus listas</p>
            </div>
        </div>
    </div>
</div>

<!-- 游댳 LIKES Y DISLIKES -->
<div class="row text-center">
    <div class="col-md-6">
        <div class="card text-white bg-info mb-3">
            <div class="card-header">游녨 Likes Recibidos</div>
            <div class="card-body">
                <h3>{{ total_likes }}</h3>
                <p>Total de likes en tus listas</p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card text-white bg-danger mb-3">
            <div class="card-header">游녩 Dislikes Recibidos</div>
            <div class="card-body">
                <h3>{{ total_dislikes }}</h3>
                <p>Total de dislikes en tus listas</p>
            </div>
        </div>
    </div>
</div>

<!-- 游댳 LISTAS CREADAS -->
<div class="card mb-4">
    <div class="card-header bg-dark text-white">游늶 칔ltimas Listas Creadas</div>
    <ul class="list-group list-group-flush">
        {% for lista in listas_usuario %}
        <li class="list-group-item">
            <a href="{{ url_for('lists.view_list', list_id=lista.id) }}">
                <strong>{{ lista.name }}</strong> ({{ lista.items|length }} 칤tems)
            </a>
            <span class="badge bg-primary">游녨 {{ lista.count_likes() }}</span>
            <span class="badge bg-danger">游녩 {{ lista.count_dislikes() }}</span>
        </li>
        {% else %}
        <li class="list-group-item text-center text-muted">No has creado listas a칰n.</li>
        {% endfor %}
    </ul>
</div>

<!-- 游댳 칈TEMS CREADOS -->
<div class="card">
    <div class="card-header bg-secondary text-white">游늷 칔ltimos 칈tems A침adidos</div>
    <ul class="list-group list-group-flush">
        {% for item in items_usuario %}
        <li class="list-group-item">
            <img src="{{ item.image_url }}" alt="Imagen del 칤tem" class="img-thumbnail" width="50">
            {{ item.content }} <small class="text-muted">(Lista: <a href="{{ url_for('lists.view_list', list_id=item.list.id) }}">{{ item.list.name }}</a>)</small>
        </li>
        {% else %}
        <li class="list-group-item text-center text-muted">No has a침adido 칤tems a칰n.</li>
        {% endfor %}
    </ul>
</div>

<!-- 游댳 BOTONES DE EDICI칍N -->
<div class="text-center mt-4">
    <a href="{{ url_for('users.edit_profile') }}" class="btn btn-primary">九勇 Editar Perfil</a>
    <a href="{{ url_for('users.change_password') }}" class="btn btn-warning">游댐 Cambiar Contrase침a</a>
</div>

{% endblock %}
